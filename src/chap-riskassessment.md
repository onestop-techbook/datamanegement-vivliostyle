---
class: chapter
---

# リスクアセスメントの考え方

前章では、ドキュメントや写真、動画といった「よくあるデータ」について、ファイルサイズと再入手の可能性という観点で整理しました。

本書は「データを紛失して泣かない」ための本です。データの容量や再入手の可能性を考慮したバックアップの方針を立てることは、一定の確率で生じるハードウエア故障や操作ミスへの対応となるでしょう。

そこで本章では、バックアップの方針決定のためのリスクアセスメントについて述べます。

## リスクアセスメントの基本

一般に、何か守りたいものがあるとき、その守りたいものに悪影響を及ぼす要因を**脅威**と呼び、その発生確率を**リスク**と呼びます。

今回のデータに対しては、デバイスの故障、操作ミス、コンピュータウイルス、オンラインストレージの障害やサービス終了など、たくさんあります。

当然要因ごとにそのリスクは異なります。操作ミスは発生しやすいですし、オンラインストレージのサービス終了はしばらく考えなくてもいいかもしれません。しかし永久的な保証はありませんから、あたまには入れておく必要があるでしょう。デバイスの故障も、稀に起こります。今日明日は起こりづらくても、3年のうちには寿命が来るかもしれません。

そういったリスクについて、発生したときの影響、発生頻度、復旧に要する時間、対応コストなどを評価することを**リスクアセスメント**と呼びます。また、リスクへの対処を含めて**リスクマネジメント**と総称します。

「データを失って泣く/困る」というリスクに対してのリスクマネジメントのゴールは、その状況を現実的なコストで防ぐことです。例えば、自分で撮った写真データを保存するために、常に100個のバックアップを作るといった方法も、データを失わないという1点においては考えうる選択ですが、それが「現実的」かという点においては現実的ではないでしょう。

天が降ってくるような確率の内容について、無尽蔵のリソースをつぎ込むことは現実的ではありません。一方で起こりうる脅威に対し、何もしないのもダメですね。これらの定量化とバランスの検討がリスクアセスメントです。

そういう意味で、先述のデータの種類ごとに、サイズや重要性（先の例では再入手の可能性）を検討するのもリスクアセスメントの一環です。

## リスクアセスメントのやり方

### データを分類する
まずは、保護すべきデータを分類しましょう。分類の仕方にはいくつかの評価軸があります。先に述べた重要性や、再入手性もその評価軸です。

すべての評価軸を網羅することはできませんが、いくつかの評価軸を実例とともに挙げておきます。

まず、秘密情報としての重要度がありえます。業務上のデータであれば、会社内のガイドラインによって、公開情報、極秘、秘密情報などに分けられることもあるでしょう。

次に、保持すべき期間もあります。

過去からの旅行の写真などは、将来見返す可能性があります。結婚式の時のムービーにつかったり、遺影につかったりと、何十年後に必要になることもありえます。

また、確定申告の帳票類のように、保存期間が法律で決まっていこともあります。「保存が義務付けられている」場合、保存して終わりではなく、「必要になったときに使用できる」ことが必要です。ですから、「保存したけどHDDが吹っ飛んで消えました」では用をなしません。しかしながら、これを保持するために十重二十重のバックアップを必要とするかというと現実的ではありませんね。

### 優先順を検討する

分類したデータは、優先順を付けてバックアップを行う必要があります。重要なデータを優先すると言えば当たり前ですが、何が「重要なデータ」かを判断します。破損・紛失したときの影響度、データサイズ、更新頻度などを勘案します。

重要度の高いデータを優先したいところですが、その重要の定義は？

システムファイルのバックアップは重要ですか？システムファイル(OSを構成するようなファイルたち)は、システムにとっては重要でも、再インストールで簡単に復旧(あるいはダウンロードできるなど)できるファイルですから、バックアップする意味は下がります。別のところでも述べていますが、これは、システム全体の多重化の文脈で考える必要があります。

仕事の”今使っているファイル”は、なくなると今/半日後/明日困ります。こういったファイルは、クラウド/ファイルサーバーに上げておく、上司にメールで送って（中間チェックしてもらうついでに）コピーをスナップショットとして上司の手元に置いておく、といった対応も取れます。そうすることにより、今間違えて消してしまったとしても、「さっきのファイル、ミスって消してしまったので送り返してください(あるいはメールの送信履歴から引っ張り出す)などが可能となります。

これらも、優先順を考えたからこそ可能となることです。

### 保存先を考える

今目の前のPCに入っているデータがオリジナルだとして、これをどこに保存するか、を考えます。

まず、最初の選択肢は、自分のPCの中の別の場所です。誤操作(誤削除)や保存ミスでデータが消えてしまうこともあります。この対策として、追加費用なしでできる方法です。しかし、デバイスの故障や、ウイルス等によりデバイスがロック/消去されてしまう対策にはなりません。

次は、同じPCに繋いだ外付けHDDなどです。RAIDで多重化を図ってもよいですね。この場合は、メインデバイスが故障したときにも復旧可能となるので、一つ目のバックアップとしてよさそうです。ただし、常時繋いでいると、やはりウイルスなどでロックされます。

では、CD-Rに焼いて保存しましょうか。オフラインに保存されることになるので、ウイルス対策としても安心ですね。焼いたCDは、今日の日付と保存したデータ名を書いておきましょう。その手間を除けば、オフラインのバックアップとしても有効です。こういったオフラインメディアは、ある時点を記録する「アーカイブ」としての側面も生じます。

最後に、オンラインストレージにアップすることを考えます。クラウドサービスやNASもあります。PCの故障からも保護されますし、外部のサービスなので自分で作るより安心で、ネットさえあればいつでも引き出せます。ただし、毎月の費用が掛かりますね。特に大容量なファイルは課金が…

基本的にはこういった様々なメリットデメリットを把握して、データの重要度やデータサイズごとにバックアップ先を決めます。

あとは、実際にバックアップを取るだけ。おっと、バックアップを取る「頻度」についても、きちんと考えないといけないですね。

### バックアップの頻度を考える

バックアップの頻度も、バックアップの方針を定めるうえでは重要です。

例えば、1年に1回だけ更新される重要書類があったとしましょう。例えば、確定申告の帳票類のようなものをイメージしてもよいかもしれません。後日参照する可能性あったり法的に保管期間が決められているので、いつでも参照できるように保存する必要はありますが、これを毎日バックアップする必要がないことは明確です。

一方で、毎日更新されるような、業務日誌的なものはどうでしょう？これを1年に1回、あるいは月に1回バックアップしても、前回バックアップからの差分が大きく失われてしまいます。少なくとも毎日バックアップを取ることが望ましいとわかります。

極端な例では、秒単位でアップデートされるようなデータベース的なもの(例えば人気のお店の売り上げデータ?)ならば、1分ごと、あるいは数秒ごとにバックアップが必要になるかもしれません。

### バックアップの取り方:全体バックアップと差分バックアップ
バックアップには、全体バックアップと、差分バックアップの二つの考え方があります。基本的にはその名の通り、当該フォルダなど全体をバックアップすることと、更新された部分だけをバックアップする方法です。

全体バックアップは、例えば業務のワークフォルダ全体を外付けHDDに定期的にコピーするようなもの。比較的簡単(手動でもできる)ですが、効率は良くありません。バックアップにも時間がかかりますし、コピーするファイル数/容量が大きくなるので、バックアップ先の容量を食います。

差分バックアップは、この1日に更新されたファイルだけをバックアップすること。更新されたファイルだけをコピーするので、容量削減できますが、「どれが更新されたファイルか」を判別したり、万一の際はそれを適切に書き戻す方法を決めるなどの手間があります。そして、それらをできれば自動化したいのですが…バックアップ用のソフトウエアなどもあるので、それらの力を借りることも検討しましょう。

## まとめ
リスクアセスメントの考え方と、それを考えるにあたって、リスク、重要性、頻度などの項目を取り上げました。

一応こういう考え方でやるとある程度網羅的にリスクとベネフィットのバランスを取りやすいのではないか、と考えますが、ここの考え方が完璧というわけではありません。それでも、諸条件を考慮しバランスをとるという考え方がリスクアセスメント/リスクマネジメントの入り口であり、本質です。

データが消えて泣くというシチュエーションを回避する一歩として、役に立ったら幸いです。